<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feladatkezelő</title>
    <!-- Bootstrap CSS betöltése -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-3">Feladatkezelő</h1>
        <div class="input-group mb-3">
            <input type="text" id="taskInput" class="form-control" placeholder="Új feladat hozzáadása" aria-label="Új feladat hozzáadása" aria-describedby="addTaskButton">
            <button class="btn btn-primary" type="button" id="addTaskButton">Hozzáadás</button>
        </div>
        <ul id="taskList" class="list-group">
            <!-- Itt jelennek meg a feladatok -->
        </ul>
    </div>

    <!-- Bootstrap JavaScript és a helyi tároló kezelése JavaScript betöltése -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script>
        // Betöltjük az elmentett feladatokat a helyi tárolóból
        let tasks = JSON.parse(localStorage.getItem('tasks')) || [];

        // Frissítjük a feladatok listáját
        function updateTaskList() {
            const taskList = document.getElementById('taskList');
            taskList.innerHTML = '';

            for (let i = 0; i < tasks.length; i++) {
                const task = tasks[i];
                const listItem = document.createElement('li');
                listItem.classList.add('list-group-item', 'd-flex', 'justify-content-between', 'align-items-center');
                listItem.innerHTML = `
                    ${task}
                    <span class="badge bg-danger" onclick="deleteTask(${i})">Törlés</span>
                `;
                taskList.appendChild(listItem);
            }
        }

        // Feladat hozzáadása
        function addTask() {
            const taskInput = document.getElementById('taskInput');
            const taskText = taskInput.value.trim();

            if (taskText === '') {
                return;
            }

            tasks.push(taskText);
            taskInput.value = '';
            updateTaskList();
            saveTasks();
        }

        // Feladat törlése
        function deleteTask(index) {
            tasks.splice(index, 1);
            updateTaskList();
            saveTasks();
        }

        // Feladatok mentése a helyi tárolóba
        function saveTasks() {
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }

        // Eseménykezelők hozzáadása
        document.getElementById('addTaskButton').addEventListener('click', addTask);

        // Az oldal betöltésekor jelenítjük meg az elmentett feladatokat
        updateTaskList();
    </script>
</body>
</html>
